import{r as i,c as r,h as t,H as e,g as s}from"./p-3d62c8c0.js";import{l as a}from"./p-9a3d9e17.js";import{m as n}from"./p-fec51065.js";import{s as d}from"./p-ac5a2b91.js";import{B as l}from"./p-61996a75.js";import{d as o}from"./p-ba7c87d4.js";import"./p-add1e9ec.js";import"./p-d81412d0.js";const b=class{constructor(t){i(this,t),this.balInput=r(this,"balInput",7),this.balBlur=r(this,"balBlur",7),this.balKeyPress=r(this,"balKeyPress",7),this.balFocus=r(this,"balFocus",7),this.balChange=r(this,"balChange",7),this.inputId="bal-input-slider-"+u++,this.didInit=!1,this.hasFocus=!1,this.initialValue="",this.onInput=i=>{const r=i.target;r&&(this.value=r.value||""),this.balInput.emit(this.value)},this.handleClick=i=>{(this.disabled||this.readonly)&&(i.preventDefault(),i.stopPropagation())},this.onFocus=i=>{this.hasFocus=!0,this.balFocus.emit(i)},this.onBlur=i=>{this.hasFocus=!1,this.balBlur.emit(i),this.balChange.emit(this.value)},this.ariaForm=o,this.name=this.inputId,this.step=0,this.min=0,this.max=100,this.invalid=!1,this.balTabindex=0,this.disabled=!1,this.readonly=!1,this.required=!1,this.hasTicks=!1,this.debounce=0,this.value=""}debounceChanged(){this.balChange=n(this.balChange,this.debounce)}listenOnClick(i){(this.disabled||this.readonly)&&i.target&&i.target===this.el&&d(i)}resetHandler(i){const r=i.target;(null==r?void 0:r.contains(this.el))&&(this.value=this.initialValue,clearTimeout(this.resetHandlerTimer),this.resetHandlerTimer=setTimeout((()=>{this.nativeInput&&(this.nativeInput.value=this.initialValue)}),0))}valueChanged(i,r){this.didInit&&!this.hasFocus&&i!==r&&this.balChange.emit(this.value)}connectedCallback(){this.debounceChanged(),this.initialValue=this.value}componentDidLoad(){this.didInit=!0,a(this.value)||""===this.value||this.valueChanged(this.value,void 0)}async setFocus(){clearTimeout(this.setFocusTimer),this.setFocusTimer=setTimeout((()=>{this.nativeInput&&this.nativeInput.focus()}))}getInputElement(){return Promise.resolve(this.nativeInput)}async setAriaForm(i){this.ariaForm=Object.assign({},i)}get numberOfSteps(){const i=this.max-this.min;return this.step<=0||this.step>=i?0:1+~~(i/this.step)}cssWidth(i=!1){const r=""===this.value?0:Math.round(Number(this.value)/this.step)*this.step,t=100/this.max*r;return i?`${t}%`:100-t+"%"}getNumberOfSteps(){const i=[];for(let r=0;r<this.numberOfSteps;r++)i.push(r);return i}render(){const i=l.block("input-slider"),r=i.element("background"),s=r.element("upper"),a=s.element("inner"),n=r.element("lower"),d=n.element("inner"),o=i.element("input"),b=o.element("native"),u=o.element("value"),h=u.modifier("left"),p=u.modifier("right"),c=i.element("steps"),_=c.element("item");return t(e,{class:Object.assign(Object.assign({},i.class()),i.modifier("disabled").class(this.disabled||this.readonly)),onClick:this.handleClick,"aria-disabled":this.disabled||this.readonly?"true":null},t("div",{class:Object.assign(Object.assign({},r.class()),r.modifier("disabled").class(this.disabled||this.readonly))},t("div",{class:Object.assign({},s.class()),style:{width:this.cssWidth()}},t("div",{class:Object.assign({},a.class())})),t("div",{class:Object.assign({},n.class()),style:{width:this.cssWidth(!0)}},t("div",{class:Object.assign({},d.class())}))),t("div",{class:Object.assign({},o.class())},t("div",{class:Object.assign(Object.assign({},u.class()),h.class())}),t("input",{type:"range",class:Object.assign(Object.assign({},b.class()),b.modifier("disabled").class(this.disabled||this.readonly)),ref:i=>this.nativeInput=i,id:this.ariaForm.controlId||this.inputId,"aria-labelledby":this.ariaForm.labelId,"aria-describedby":this.ariaForm.messageId,"aria-disabled":this.disabled?"true":null,"aria-invalid":!0===this.invalid?"true":"false",disabled:this.disabled,readonly:this.readonly,name:this.name,required:this.required,tabIndex:this.balTabindex,step:this.step,min:this.min,max:this.max,value:""!==this.value&&void 0!==this.value?this.value:0,onInput:this.onInput,onBlur:this.onBlur,onFocus:this.onFocus,onKeyPress:i=>this.balKeyPress.emit(i),"data-testid":"bal-input-slider"}),t("div",{class:Object.assign(Object.assign({},u.class()),p.class())})),t("div",{class:Object.assign({},c.class()),style:{display:this.hasTicks?"flex":"none"}},this.getNumberOfSteps().map((i=>t("div",{class:Object.assign(Object.assign({},_.class()),_.modifier("disabled").class(this.disabled||this.readonly)),"data-step-id":i})))))}get el(){return s(this)}static get watchers(){return{debounce:["debounceChanged"],value:["valueChanged"]}}};let u=0;b.style={css:".bal-input-slider{display:block;position:relative;width:100%;-ms-flex:1;flex:1;font-family:var(--bal-font-family-text);-ms-flex-direction:column;flex-direction:column;min-height:3rem}.bal-input-slider__background{position:absolute;top:1rem;left:0px;right:0px;z-index:0;border-radius:var(--bal-radius-rounded);background:var(--bal-color-green);height:1rem;width:100%;overflow:hidden}.bal-input-slider__background__upper,.bal-input-slider__background__lower{position:absolute;top:0;width:50%;margin:0;cursor:pointer}.bal-input-slider__background__upper>div,.bal-input-slider__background__lower>div{height:1rem;border-radius:var(--bal-radius-none)}.bal-input-slider__background__upper{right:0px}.bal-input-slider__background__upper>div{background:var(--bal-color-green);border-top-right-radius:var(--bal-radius-rounded);border-bottom-right-radius:var(--bal-radius-rounded)}.bal-input-slider__background__lower{left:0px}.bal-input-slider__background__lower>div{background:var(--bal-color-green-5);border-top-left-radius:var(--bal-radius-rounded);border-bottom-left-radius:var(--bal-radius-rounded)}.bal-input-slider__background--disabled{cursor:default;pointer-events:none;background:var(--bal-color-grey-2)}.bal-input-slider__background--disabled .bal-input-slider__background__upper__inner{background:var(--bal-color-grey-2)}.bal-input-slider__background--disabled .bal-input-slider__background__lower__inner{background:var(--bal-color-grey-4)}.bal-input-slider__input{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;min-height:3rem}.bal-input-slider__input__native{-webkit-appearance:none;margin:0;background:rgba(0,0,0,0);z-index:1;outline:none;min-width:12.5rem;width:100%}.bal-input-slider__input__native::-webkit-slider-runnable-track{width:100%;cursor:pointer;border:none}.bal-input-slider__input__native::-webkit-slider-thumb{-webkit-box-shadow:var(--bal-shadow-none);box-shadow:var(--bal-shadow-none);border:3px solid var(--bal-color-primary-inverted);height:1rem;width:1rem;border-radius:var(--bal-radius-rounded);background:var(--bal-color-primary);cursor:pointer;-webkit-appearance:none}.bal-input-slider__input__native:focus-visible{outline:none}.bal-input-slider__input__native:focus-visible::-webkit-slider-thumb{background:var(--bal-color-primary);border:2px solid var(--bal-color-primary)}.bal-input-slider__input__native::-moz-range-track{cursor:pointer;box-shadow:var(--bal-shadow-none);background:rgba(0,0,0,0);width:100%;border:none;z-index:2}.bal-input-slider__input__native::-moz-range-thumb{box-shadow:var(--bal-shadow-none);border:3px solid var(--bal-color-primary-inverted);height:.625rem;width:.625rem;border-radius:var(--bal-radius-rounded);background:var(--bal-color-primary);cursor:pointer}.bal-input-slider__input__native::-ms-track{cursor:pointer;box-shadow:var(--bal-shadow-none);background:rgba(0,0,0,0);width:100%;border:none;z-index:2}.bal-input-slider__input__native::-ms-fill-lower{background:rgba(0,0,0,0);border:none;box-shadow:var(--bal-shadow-none)}.bal-input-slider__input__native::-ms-fill-upper{background:rgba(0,0,0,0);border:none;box-shadow:var(--bal-shadow-none)}.bal-input-slider__input__native::-ms-thumb{box-shadow:var(--bal-shadow-none);border:3px solid var(--bal-color-primary-inverted);height:1rem;width:1rem;border-radius:var(--bal-radius-rounded);background:var(--bal-color-primary);cursor:pointer;-webkit-appearance:none;z-index:2}.bal-input-slider__input__native:focus::-ms-fill-lower{background:rgba(0,0,0,0)}.bal-input-slider__input__native:focus::-ms-fill-upper{background:rgba(0,0,0,0)}.bal-input-slider__input__native--disabled::-webkit-slider-thumb{background:var(--bal-color-grey-5)}.bal-input-slider__input__native--disabled::-ms-thumb{background:var(--bal-color-grey-5)}.bal-input-slider__input__native--disabled::-moz-range-thumb{background:var(--bal-color-grey-5)}.bal-input-slider__steps{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;min-height:.5rem;margin:-0.625rem .5rem;-ms-flex-pack:justify;justify-content:space-between}.bal-input-slider__steps__item{width:.125rem;border-radius:var(--bal-radius-rounded);background-color:var(--bal-color-primary)}.bal-input-slider__steps__item--disabled{background:var(--bal-color-grey-4)}@-moz-document url-prefix(){.bal-input-slider__steps{margin:0 .5rem !important}}"};export{b as bal_input_slider}