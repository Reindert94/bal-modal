var __awaiter=this&&this.__awaiter||function(t,e,n,i){function r(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,a){function u(t){try{o(i.next(t))}catch(t){a(t)}}function s(t){try{o(i["throw"](t))}catch(t){a(t)}}function o(t){t.done?n(t.value):r(t.value).then(u,s)}o((i=i.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(t){return function(e){return o([t,e])}}function o(s){if(i)throw new TypeError("Generator is already executing.");while(u&&(u=0,s[0]&&(n=0)),n)try{if(i=1,r&&(a=s[0]&2?r["return"]:s[0]?r["throw"]||((a=r["return"])&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;if(r=0,a)s=[s[0]&2,a.value];switch(s[0]){case 0:case 1:a=s;break;case 4:n.label++;return{value:s[1],done:false};case 5:n.label++;r=s[1];s=[0];continue;case 7:s=n.ops.pop();n.trys.pop();continue;default:if(!(a=n.trys,a=a.length>0&&a[a.length-1])&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){n.label=s[1];break}if(s[0]===6&&n.label<a[1]){n.label=a[1];a=s;break}if(a&&n.label<a[2]){n.label=a[2];n.ops.push(s);break}if(a[2])n.ops.pop();n.trys.pop();continue}s=e.call(t,n)}catch(t){s=[6,t];r=0}finally{i=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};var __spreadArray=this&&this.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,a;i<r;i++){if(a||!(i in e)){if(!a)a=Array.prototype.slice.call(e,0,i);a[i]=e[i]}}return t.concat(a||Array.prototype.slice.call(e))};System.register(["./p-bcb8811f.system.js","./p-bac85d61.system.js","./p-a77fefb8.system.js","./p-7b430ce0.system.js","./p-9ef85545.system.js","./p-91543c07.system.js","./p-7ac1b946.system.js","./p-cf04c148.system.js","./p-d85b2f76.system.js","./p-0ab50155.system.js","./p-f15b4d27.system.js","./p-6913b916.system.js","./p-3150d785.system.js","./p-24be00c1.system.js","./p-7dff37f8.system.js","./p-28972b53.system.js","./p-3a73b8b5.system.js"],(function(t){"use strict";var e,n,i,r,a,u,s,o,l,c,f,h,d,p,b,v,y,m,g,_,V,I,j,w,x,k,C,F,P,A,O,S,B;return{setters:[function(t){e=t.r;n=t.c;i=t.h;r=t.H;a=t.g},function(t){u=t.a;s=t.d},function(t){o=t.L},function(t){l=t.L},function(t){c=t.h;f=t.a;h=t.i;d=t.e;p=t.f;b=t.k;v=t.s;y=t.b;m=t.j;g=t.c;_=t.d;V=t.l},function(t){I=t.m},function(t){j=t.i},function(t){w=t.g},function(t){x=t.j;k=t.k;C=t.h},function(t){F=t.B},function(t){P=t.d},function(t){A=t.l},function(t){O=t.N;S=t.A},function(t){B=t.l},function(){},function(){},function(){}],execute:function(){var K="[object Number]";var L=Object.prototype;var E=L.toString;function G(t){return!!t&&typeof t=="object"}function N(t){return q(t)&&t!=+t}function q(t){return typeof t=="number"||G(t)&&E.call(t)==K}var D=N;var H=function(){var t=w();return t&&t.locale||u};var R=function(){return x(H())};var T=function(){return k(H())};var z=function(t,e){return C(H(),t,e)};var W=function(){return"-"};function J(t){var e=parseFloat(t);return typeof e==="number"&&!D(e)}function M(t){return!J(t)&&t!==""&&t!==W()&&t!==R()}function Q(t,e){if(e===void 0){e=0}if(t===""||t===undefined||t===null||D(t)||t===W()||t===R()||!J(t)){return undefined}return e===0?parseInt(t,10):parseFloat(t)}function U(t,e){if(e===void 0){e=0}if(A(t)){return""}if(t.charAt(0)===R()){t="0".concat(t)}var n=e===0?parseInt(t,10):parseFloat(t);return D(n)?"":n.toFixed(e)}function X(t){return t.replace(".",R())}function Y(t,e,n){if(e===void 0){e=0}if(n===void 0){n=""}if(A(t)){return""}if(t.charAt(0)===R()){t="0".concat(t)}var i=e===0?parseInt(t,10):parseFloat(t);var r=n!==""?" ".concat(n.trim()):"";return D(i)?"":z(i,e)+r}var Z=function(t){return(t.split(R())||[]).length-1||0};function $(t){var e=t.key,n=t.selectionStart,i=t.selectionEnd,r=t.newValue,a=t.decimal;if(e===W()&&n&&n>0&&i&&i>0){return false}if(e===R()){if(a===0){return false}else if(Z(r)>1){return false}}if(!__spreadArray(__spreadArray(__spreadArray([],O,true),S,true),[R(),W()],false).includes(e)){return false}if(a!==0&&r.includes(R())&&__spreadArray([],O,true).includes(e)){var u=r.split(R());var s=u[u.length-1];if(s.length>a){return false}}return true}var tt=".bal-number-input{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:block;position:relative;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;width:100%;padding:0;font-family:var(--bal-font-family-text)}";var et=undefined&&undefined.__decorate||function(t,e,n,i){var r=arguments.length,a=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,u;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)if(u=t[s])a=(r<3?u(a):r>3?u(e,n,a):u(e,n))||a;return r>3&&a&&Object.defineProperty(e,n,a),a};var nt=t("bal_number_input",function(){function t(t){var i=this;e(this,t);this.balInput=n(this,"balInput",7);this.balChange=n(this,"balChange",7);this.balBlur=n(this,"balBlur",7);this.balFocus=n(this,"balFocus",7);this.balKeyPress=n(this,"balKeyPress",7);this.inputId="bal-number-input-".concat(it++);this.inheritedAttributes={};this.lastValue="";this.inputValue=this.value;this.initialValue=undefined;this.onClick=function(t){return c(i,t)};this.handleClick=function(t){return f(i,t)};this.onInput=function(t){var e;if(i.nativeInput){if(M(i.nativeInput.value)){i.nativeInputValue=i.lastValue||"";return}}i.lastValue=((e=i.nativeInput)===null||e===void 0?void 0:e.value)||"";i.balInput.emit(Q(i.lastValue,i.decimal))};this.onFocus=function(t){h(i,t);if(i.nativeInput){i.nativeInputValue=X(i.lastValue||"")}};this.onBlur=function(t){d(i,t);if(i.nativeInput){i.lastValue=U(i.lastValueGetter,i.decimal);i.nativeInputValue=Y(i.lastValueGetter,i.decimal,i.suffix)}i.inputValue=Q(i.lastValueGetter,i.decimal);p(i)};this.onKeydown=function(t){var e=V(i);var n=b(i,t);var r=t===null||t===void 0?void 0:t.target;if(r&&!$({key:t.key,decimal:i.decimal,newValue:n,oldValue:e,selectionStart:r.selectionStart,selectionEnd:r.selectionEnd})){return v(t)}};this.focused=false;this.language=s.language;this.region=s.region;this.ariaForm=P;this.nativeInputValue="";this.inputPattern=this.createPattern();this.name=this.inputId;this.invalid=false;this.decimal=0;this.suffix=undefined;this.pattern=undefined;this.placeholder=undefined;this.required=false;this.disabled=false;this.readonly=false;this.exactNumber=false;this.max=undefined;this.min=undefined;this.debounce=0;this.value=undefined}t.prototype.createLogger=function(t){this.log=t};t.prototype.debounceChanged=function(){this.balChange=I(this.balChange,this.debounce)};t.prototype.valueChanged=function(t,e){if(t!==e){var n=t===""||A(t)||D(t);var i=this.exactNumber?"0":"";var r=n?i:t.toString();this.inputValue=Q(U(r,this.decimal),this.decimal);this.lastValue=U(r,this.decimal);if(this.focused){this.nativeInputValue=X(this.lastValue)}else{this.nativeInputValue=Y(this.lastValue,this.decimal,this.suffix)}}};t.prototype.connectedCallback=function(){this.debounceChanged();this.initialValue=this.value||0;if(this.value!==undefined){this.valueChanged(this.value,undefined)}};t.prototype.componentDidLoad=function(){this.inputValue=this.value};t.prototype.componentWillLoad=function(){this.inheritedAttributes=j(this.el,["aria-label","tabindex","title"])};t.prototype.listenOnClick=function(t){y(this,t)};t.prototype.resetHandler=function(t){var e=t.target;if(e===null||e===void 0?void 0:e.contains(this.el)){m(this,this.initialValue,this.resetHandlerTimer)}};t.prototype.configChanged=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.language=t.language;this.region=t.region;this.inputPattern=this.createPattern();if(this.nativeInput){if(this.focused){this.nativeInputValue=X(this.lastValue)}else{this.nativeInputValue=Y(this.lastValue,this.decimal,this.suffix)}}return[2]}))}))};t.prototype.setFocus=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){g(this);return[2]}))}))};t.prototype.setBlur=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){_(this);return[2]}))}))};t.prototype.getInputElement=function(){return Promise.resolve(this.nativeInput)};t.prototype.setAriaForm=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.ariaForm=Object.assign({},t);return[2]}))}))};t.prototype.createPattern=function(){if(this.pattern){return this.pattern}var t=this.suffix||"";if(t!==""){t=" ".concat(t)}var e=T();var n=R();if(n===","){n="\\,"}return"-?\\d{1,3}(?:".concat(e,"\\d{3})*(?:\\").concat(n,"\\d{1,2})?(?:").concat(t,")?")};Object.defineProperty(t.prototype,"lastValueGetter",{get:function(){if(this.exactNumber&&(A(this.lastValue)||B(this.lastValue))){return"0"}return this.lastValue},enumerable:false,configurable:true});t.prototype.render=function(){var t=this;var e=F.block("number-input");return i(r,{onClick:this.handleClick,"aria-disabled":this.disabled?"true":null,class:Object.assign({},e.class())},i("input",Object.assign({class:{input:true,"is-disabled":this.disabled||this.readonly,"is-danger":this.invalid},"data-testid":"bal-number-input",ref:function(e){return t.nativeInput=e},id:this.ariaForm.controlId||this.inputId,"aria-labelledby":this.ariaForm.labelId,"aria-describedby":this.ariaForm.messageId,"aria-invalid":this.invalid===true?"true":"false","aria-disabled":this.disabled?"true":null,name:this.name,disabled:this.disabled,placeholder:this.placeholder||"",readonly:this.readonly,required:this.required,pattern:this.inputPattern,min:this.min,max:this.max,value:this.nativeInputValue,onInput:function(e){return t.onInput(e)},onFocus:function(e){return t.onFocus(e)},onBlur:function(e){return t.onBlur(e)},onClick:this.onClick,onKeyDown:function(e){return t.onKeydown(e)},onKeyPress:function(e){return t.balKeyPress.emit(e)}},this.inheritedAttributes)))};Object.defineProperty(t.prototype,"el",{get:function(){return a(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{debounce:["debounceChanged"],value:["valueChanged"]}},enumerable:false,configurable:true});return t}());et([o("bal-number-input")],nt.prototype,"createLogger",null);et([l()],nt.prototype,"configChanged",null);var it=0;nt.style={css:tt}}}}));