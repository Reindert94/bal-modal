import{r as t,c as i,h as o,H as a,g as s}from"./p-3d62c8c0.js";import{L as e}from"./p-585cea76.js";import{B as l}from"./p-61996a75.js";import{b as r}from"./p-add1e9ec.js";import{b as n}from"./p-f146219b.js";import{a as h,c,s as p,f as b,o as d,b as m}from"./p-c39c93c6.js";const f=t=>{t&&(t.style.setProperty("display","block"),t.style.setProperty("visibility","visible"))};const u=class{constructor(o){t(this,o),this.balWillAnimate=i(this,"balWillAnimate",7),this.balDidAnimate=i(this,"balDidAnimate",7),this.tooltipId="bal-to-"+v++,this.reference="",this.placement="bottom",this.offset=0,this.presented=!1,this.contentWidth=void 0}createLogger(t){this.log=t}contentWidthChanged(t,i){t!==i&&(void 0===t?this.el.style.removeProperty("--bal-tooltip-max-width"):this.el.style.setProperty("--bal-tooltip-max-width",`${this.contentWidth}px`))}componentDidLoad(){if(this.contentWidthChanged(this.contentWidth,0),!n.hasTouchScreen){let t=[],i=[];t=["mouseenter","focus"],i=["mouseleave","blur"],t.forEach((t=>{this.triggerElement&&this.triggerElement.addEventListener(t,(()=>this.present()))})),i.forEach((t=>{this.triggerElement&&this.triggerElement.addEventListener(t,(()=>this.dismiss()))}))}}async present(){if(!this.trigger&&r.hasDocument){const t=Array.from(document.querySelectorAll(`[id="${this.reference}"]`))[0];this.trigger=t}if(this.trigger&&this.containerEl&&this.arrowEl){this.balWillAnimate.emit();const o=this.trigger.attributes.getNamedItem("bal-tooltip-placement");return this.placement=o?o.value:this.placement,(i=this.containerEl)&&f(i),(t=this.arrowEl)&&f(t),this.trigger.classList.add("bal-tooltip-trigger"),this.presented=!0,this.cleanup=h(this.trigger,this.containerEl,(()=>{this.update()})),this.balDidAnimate.emit(),!0}var t,i;return!1}async dismiss(){return!!(this.containerEl&&this.arrowEl&&this.trigger)&&(this.balWillAnimate.emit(),this.cleanup&&this.cleanup(),this.trigger.classList.remove("bal-tooltip-trigger"),(o=this.containerEl)&&((t=o)&&(t.style.removeProperty("display"),t.style.removeProperty("visibility"))),(i=this.arrowEl)&&Object.assign(i.style,{left:"",top:"",display:"none",visibility:"hidden"}),this.presented=!1,this.balDidAnimate.emit(),!0);var t,i,o}async update(){return!!(this.trigger&&this.containerEl&&this.arrowEl)&&(this.balWillAnimate.emit(),c(this.trigger,this.containerEl,{placement:this.placement,middleware:[p(),b(),d(8),m({element:this.arrowEl,padding:4})]}).then((({x:t,y:i,middlewareData:o,placement:a})=>{const s={top:"bottom",right:"left",bottom:"top",left:"right"}[a.split("-")[0]];if(this.containerEl&&Object.assign(this.containerEl.style,{left:`${t}px`,top:`${i}px`}),o.arrow&&this.arrowEl){const a=o.arrow;Object.assign(this.arrowEl.style,{left:null!=t&&null!=a.x?`${a.x}px`:"",top:null!=i&&null!=a.y?`${a.y}px`:"",right:"",bottom:"",[s]:"-4px"})}})),this.balDidAnimate.emit(),!0)}get triggerElement(){return document.querySelector(`[id="${this.reference}"]`)}render(){const t=l.block("tooltip"),i=t.element("container"),s=t.element("arrow"),e=t.element("inner"),r=e.element("content");return o(a,{class:Object.assign({},t.class()),role:"dialog","aria-hidden":`${!0!==this.presented}`,"aria-modal":`${!0===this.presented}`,"aria-presented":`${!0===this.presented}`},o("div",{class:Object.assign({},i.class()),ref:t=>this.containerEl=t},o("div",{class:Object.assign({},s.class()),ref:t=>this.arrowEl=t}),o("bal-stack",{layout:"vertical",class:Object.assign({},e.class())},o("div",{class:Object.assign({},r.class()),ref:t=>this.contentEl=t,"data-test":"bal-tooltip-content"},o("slot",null)))))}get el(){return s(this)}static get watchers(){return{contentWidth:["contentWidthChanged"]}}};!function(t,i,o,a){var s,e=arguments.length,l=e<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,i,o,a);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(l=(e<3?s(l):e>3?s(i,o,l):s(i,o))||l);e>3&&l&&Object.defineProperty(i,o,l)}([e("bal-tooltip")],u.prototype,"createLogger",null);let v=0;u.style={css:":host{--bal-tooltip-container-background:var(--bal-color-primary-6);--bal-tooltip-max-width:auto;--bal-tooltip-radius:var(--bal-radius-normal);--bal-tooltip-shadow:var(--bal-shadow-large);--bal-tooltip-arrow-background:var(--bal-color-primary-6);--bal-tooltip-font-family:var(--bal-font-family-text);--bal-tooltip-font-size:var(--bal-size-small)}:host{position:static;display:inline;z-index:var(--bal-z-index-tooltip)}.bal-tooltip__container{background-color:var(--bal-tooltip-container-background);display:none;visibility:hidden;color:#fff;padding:var(--bal-space-x-small);border-radius:var(--bal-tooltip-radius);-webkit-box-shadow:var(--bal-tooltip-shadow);box-shadow:var(--bal-tooltip-shadow);width:var(--bal-tooltip-max-width);position:absolute;top:0;left:0}.bal-tooltip__inner{overflow-y:auto;max-height:calc(var(--bal-app-height, 100%) - 8rem)}.bal-tooltip__inner__content{width:100%;font-family:var(--bal-tooltip-font-family);font-size:var(--bal-tooltip-font-size)}.bal-tooltip__arrow{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;width:.5rem;height:.5rem;background:var(--bal-tooltip-arrow-background);-webkit-transform:rotate(45deg);transform:rotate(45deg);display:none;visibility:hidden}.bal-tooltip-variant-popover-trigger,.bal-tooltip-permanent-trigger{z-index:calc(var(--bal-z-index-tooltip) + 1) !important;position:relative !important}"};export{u as bal_tooltip}