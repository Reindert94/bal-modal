import{__assign,__awaiter,__generator,__rest,__spreadArray}from"tslib";var min=Math.min;var max=Math.max;var round=Math.round;var floor=Math.floor;var createCoords=function(e){return{x:e,y:e}};var oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"};var oppositeAlignmentMap={start:"end",end:"start"};function clamp(e,t,n){return max(e,min(t,n))}function evaluate(e,t){return typeof e==="function"?e(t):e}function getSide(e){return e.split("-")[0]}function getAlignment(e){return e.split("-")[1]}function getOppositeAxis(e){return e==="x"?"y":"x"}function getAxisLength(e){return e==="y"?"height":"width"}function getSideAxis(e){return["top","bottom"].includes(getSide(e))?"y":"x"}function getAlignmentAxis(e){return getOppositeAxis(getSideAxis(e))}function getAlignmentSides(e,t,n){if(n===void 0){n=false}var r=getAlignment(e);var i=getAlignmentAxis(e);var o=getAxisLength(i);var a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";if(t.reference[o]>t.floating[o]){a=getOppositePlacement(a)}return[a,getOppositePlacement(a)]}function getExpandedPlacements(e){var t=getOppositePlacement(e);return[getOppositeAlignmentPlacement(e),t,getOppositeAlignmentPlacement(t)]}function getOppositeAlignmentPlacement(e){return e.replace(/start|end/g,(function(e){return oppositeAlignmentMap[e]}))}function getSideList(e,t,n){var r=["left","right"];var i=["right","left"];var o=["top","bottom"];var a=["bottom","top"];switch(e){case"top":case"bottom":if(n)return t?i:r;return t?r:i;case"left":case"right":return t?o:a;default:return[]}}function getOppositeAxisPlacements(e,t,n,r){var i=getAlignment(e);var o=getSideList(getSide(e),n==="start",r);if(i){o=o.map((function(e){return e+"-"+i}));if(t){o=o.concat(o.map(getOppositeAlignmentPlacement))}}return o}function getOppositePlacement(e){return e.replace(/left|right|bottom|top/g,(function(e){return oppositeSideMap[e]}))}function expandPaddingObject(e){return __assign({top:0,right:0,bottom:0,left:0},e)}function getPaddingObject(e){return typeof e!=="number"?expandPaddingObject(e):{top:e,right:e,bottom:e,left:e}}function rectToClientRect(e){return __assign(__assign({},e),{top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height})}function computeCoordsFromPlacement(e,t,n){var r=e.reference,i=e.floating;var o=getSideAxis(t);var a=getAlignmentAxis(t);var s=getAxisLength(a);var l=getSide(t);var c=o==="y";var f=r.x+r.width/2-i.width/2;var u=r.y+r.height/2-i.height/2;var g=r[s]/2-i[s]/2;var d;switch(l){case"top":d={x:f,y:r.y-i.height};break;case"bottom":d={x:f,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:u};break;case"left":d={x:r.x-i.width,y:u};break;default:d={x:r.x,y:r.y}}switch(getAlignment(t)){case"start":d[a]-=g*(n&&c?-1:1);break;case"end":d[a]+=g*(n&&c?-1:1);break}return d}var computePosition$1=function(e,t,n){return __awaiter(void 0,void 0,void 0,(function(){var r,i,o,a,s,l,c,f,u,g,d,v,m,p,h,y,x,w,b,_,A,R,E,C,O,S;var T,P;return __generator(this,(function(L){switch(L.label){case 0:r=n.placement,i=r===void 0?"bottom":r,o=n.strategy,a=o===void 0?"absolute":o,s=n.middleware,l=s===void 0?[]:s,c=n.platform;f=l.filter(Boolean);return[4,c.isRTL==null?void 0:c.isRTL(t)];case 1:u=L.sent();return[4,c.getElementRects({reference:e,floating:t,strategy:a})];case 2:g=L.sent();d=computeCoordsFromPlacement(g,i,u),v=d.x,m=d.y;p=i;h={};y=0;x=0;L.label=3;case 3:if(!(x<f.length))return[3,11];w=f[x],b=w.name,_=w.fn;return[4,_({x:v,y:m,initialPlacement:i,placement:p,strategy:a,middlewareData:h,rects:g,platform:c,elements:{reference:e,floating:t}})];case 4:A=L.sent(),R=A.x,E=A.y,C=A.data,O=A.reset;v=R!=null?R:v;m=E!=null?E:m;h=__assign(__assign({},h),(T={},T[b]=__assign(__assign({},h[b]),C),T));if(!(O&&y<=50))return[3,10];y++;if(!(typeof O==="object"))return[3,9];if(O.placement){p=O.placement}if(!O.rects)return[3,8];if(!(O.rects===true))return[3,6];return[4,c.getElementRects({reference:e,floating:t,strategy:a})];case 5:S=L.sent();return[3,7];case 6:S=O.rects;L.label=7;case 7:g=S;L.label=8;case 8:P=computeCoordsFromPlacement(g,p,u),v=P.x,m=P.y;L.label=9;case 9:x=-1;return[3,10];case 10:x++;return[3,3];case 11:return[2,{x:v,y:m,placement:p,strategy:a,middlewareData:h}]}}))}))};function detectOverflow(e,t){return __awaiter(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,c,f,u,g,d,v,m,p,h,y,x,w,b,_,A,R,E,C,O,S,T,P,L,N,D,W,B;var M;return __generator(this,(function(k){switch(k.label){case 0:if(t===void 0){t={}}r=e.x,i=e.y,o=e.platform,a=e.rects,s=e.elements,l=e.strategy;c=evaluate(t,e),f=c.boundary,u=f===void 0?"clippingAncestors":f,g=c.rootBoundary,d=g===void 0?"viewport":g,v=c.elementContext,m=v===void 0?"floating":v,p=c.altBoundary,h=p===void 0?false:p,y=c.padding,x=y===void 0?0:y;w=getPaddingObject(x);b=m==="floating"?"reference":"floating";_=s[h?b:m];R=rectToClientRect;C=(E=o).getClippingRect;M={};return[4,o.isElement==null?void 0:o.isElement(_)];case 1:if(!((n=k.sent())!=null?n:true))return[3,2];O=_;return[3,5];case 2:S=_.contextElement;if(S)return[3,4];return[4,o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)];case 3:S=k.sent();k.label=4;case 4:O=S;k.label=5;case 5:return[4,C.apply(E,[(M.element=O,M.boundary=u,M.rootBoundary=d,M.strategy=l,M)])];case 6:A=R.apply(void 0,[k.sent()]);T=m==="floating"?__assign(__assign({},a.floating),{x:r,y:i}):a.reference;return[4,o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)];case 7:P=k.sent();return[4,o.isElement==null?void 0:o.isElement(P)];case 8:if(!k.sent())return[3,10];return[4,o.getScale==null?void 0:o.getScale(P)];case 9:N=k.sent()||{x:1,y:1};return[3,11];case 10:N={x:1,y:1};k.label=11;case 11:L=N;W=rectToClientRect;if(!o.convertOffsetParentRelativeRectToViewportRelativeRect)return[3,13];return[4,o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:T,offsetParent:P,strategy:l})];case 12:B=k.sent();return[3,14];case 13:B=T;k.label=14;case 14:D=W.apply(void 0,[B]);return[2,{top:(A.top-D.top+w.top)/L.y,bottom:(D.bottom-A.bottom+w.bottom)/L.y,left:(A.left-D.left+w.left)/L.x,right:(D.right-A.right+w.right)/L.x}]}}))}))}var arrow=function(e){return{name:"arrow",options:e,fn:function(t){return __awaiter(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,c,f,u,g,d,v,m,p,h,y,x,w,b,_,A,R,E,C,O,S,T,P,L,N,D,W,B;var M,k;return __generator(this,(function(F){switch(F.label){case 0:n=t.x,r=t.y,i=t.placement,o=t.rects,a=t.platform,s=t.elements;l=evaluate(e,t)||{},c=l.element,f=l.padding,u=f===void 0?0:f;if(c==null){return[2,{}]}g=getPaddingObject(u);d={x:n,y:r};v=getAlignmentAxis(i);m=getAxisLength(v);return[4,a.getDimensions(c)];case 1:p=F.sent();h=v==="y";y=h?"top":"left";x=h?"bottom":"right";w=h?"clientHeight":"clientWidth";b=o.reference[m]+o.reference[v]-d[v]-o.floating[m];_=d[v]-o.reference[v];return[4,a.getOffsetParent==null?void 0:a.getOffsetParent(c)];case 2:A=F.sent();R=A?A[w]:0;E=!R;if(E)return[3,4];return[4,a.isElement==null?void 0:a.isElement(A)];case 3:E=!F.sent();F.label=4;case 4:if(E){R=s.floating[w]||o.floating[m]}C=b/2-_/2;O=R/2-p[m]/2-1;S=min(g[y],O);T=min(g[x],O);P=S;L=R-p[m]-T;N=R/2-p[m]/2+C;D=clamp(P,N,L);W=getAlignment(i)!=null&&N!=D&&o.reference[m]/2-(N<P?S:T)-p[m]/2<0;B=W?N<P?P-N:L-N:0;return[2,(M={},M[v]=d[v]-B,M.data=(k={},k[v]=D,k.centerOffset=N-D+B,k),M)]}}))}))}}};var flip=function(e){if(e===void 0){e={}}return{name:"flip",options:e,fn:function(t){return __awaiter(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,c,f,u,g,d,v,m,p,h,y,x,w,b,_,A,R,E,C,O,S,T,P,L,N,D,W,B,M,k;return __generator(this,(function(F){switch(F.label){case 0:r=t.placement,i=t.middlewareData,o=t.rects,a=t.initialPlacement,s=t.platform,l=t.elements;c=evaluate(e,t),f=c.mainAxis,u=f===void 0?true:f,g=c.crossAxis,d=g===void 0?true:g,v=c.fallbackPlacements,m=c.fallbackStrategy,p=m===void 0?"bestFit":m,h=c.fallbackAxisSideDirection,y=h===void 0?"none":h,x=c.flipAlignment,w=x===void 0?true:x,b=__rest(c,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);_=getSide(r);A=getSide(a)===a;return[4,s.isRTL==null?void 0:s.isRTL(l.floating)];case 1:R=F.sent();E=v||(A||!w?[getOppositePlacement(a)]:getExpandedPlacements(a));if(!v&&y!=="none"){E.push.apply(E,getOppositeAxisPlacements(a,w,y,R))}C=__spreadArray([a],E,true);return[4,detectOverflow(t,b)];case 2:O=F.sent();S=[];T=((n=i.flip)==null?void 0:n.overflows)||[];if(u){S.push(O[_])}if(d){P=getAlignmentSides(r,o,R);S.push(O[P[0]],O[P[1]])}T=__spreadArray(__spreadArray([],T,true),[{placement:r,overflows:S}],false);if(!S.every((function(e){return e<=0}))){D=(((L=i.flip)==null?void 0:L.index)||0)+1;W=C[D];if(W){return[2,{data:{index:D,overflows:T},reset:{placement:W}}]}B=(N=T.filter((function(e){return e.overflows[0]<=0})).sort((function(e,t){return e.overflows[1]-t.overflows[1]}))[0])==null?void 0:N.placement;if(!B){switch(p){case"bestFit":{k=(M=T.map((function(e){return[e.placement,e.overflows.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0)]})).sort((function(e,t){return e[1]-t[1]}))[0])==null?void 0:M[0];if(k){B=k}break}case"initialPlacement":B=a;break}}if(r!==B){return[2,{reset:{placement:B}}]}}return[2,{}]}}))}))}}};function convertValueToCoords(e,t){return __awaiter(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,c,f,u,g,d,v,m;return __generator(this,(function(p){switch(p.label){case 0:n=e.placement,r=e.platform,i=e.elements;return[4,r.isRTL==null?void 0:r.isRTL(i.floating)];case 1:o=p.sent();a=getSide(n);s=getAlignment(n);l=getSideAxis(n)==="y";c=["left","top"].includes(a)?-1:1;f=o&&l?-1:1;u=evaluate(t,e);g=typeof u==="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:__assign({mainAxis:0,crossAxis:0,alignmentAxis:null},u),d=g.mainAxis,v=g.crossAxis,m=g.alignmentAxis;if(s&&typeof m==="number"){v=s==="end"?m*-1:m}return[2,l?{x:v*f,y:d*c}:{x:d*c,y:v*f}]}}))}))}var offset=function(e){if(e===void 0){e=0}return{name:"offset",options:e,fn:function(t){return __awaiter(this,void 0,void 0,(function(){var n,r,i;return __generator(this,(function(o){switch(o.label){case 0:n=t.x,r=t.y;return[4,convertValueToCoords(t,e)];case 1:i=o.sent();return[2,{x:n+i.x,y:r+i.y,data:i}]}}))}))}}};var shift=function(e){if(e===void 0){e={}}return{name:"shift",options:e,fn:function(t){return __awaiter(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,c,f,u,g,d,v,m,p,h,y,x,w,b,_,x,w,A,R,E;var C;return __generator(this,(function(O){switch(O.label){case 0:n=t.x,r=t.y,i=t.placement;o=evaluate(e,t),a=o.mainAxis,s=a===void 0?true:a,l=o.crossAxis,c=l===void 0?false:l,f=o.limiter,u=f===void 0?{fn:function(e){var t=e.x,n=e.y;return{x:t,y:n}}}:f,g=__rest(o,["mainAxis","crossAxis","limiter"]);d={x:n,y:r};return[4,detectOverflow(t,g)];case 1:v=O.sent();m=getSideAxis(getSide(i));p=getOppositeAxis(m);h=d[p];y=d[m];if(s){x=p==="y"?"top":"left";w=p==="y"?"bottom":"right";b=h+v[x];_=h-v[w];h=clamp(b,h,_)}if(c){x=m==="y"?"top":"left";w=m==="y"?"bottom":"right";A=y+v[x];R=y-v[w];y=clamp(A,y,R)}E=u.fn(__assign(__assign({},t),(C={},C[p]=h,C[m]=y,C)));return[2,__assign(__assign({},E),{data:{x:E.x-n,y:E.y-r}})]}}))}))}}};function getNodeName(e){if(isNode(e)){return(e.nodeName||"").toLowerCase()}return"#document"}function getWindow(e){var t;return(e==null?void 0:(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function getDocumentElement(e){var t;return(t=(isNode(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function isNode(e){return e instanceof Node||e instanceof getWindow(e).Node}function isElement(e){return e instanceof Element||e instanceof getWindow(e).Element}function isHTMLElement(e){return e instanceof HTMLElement||e instanceof getWindow(e).HTMLElement}function isShadowRoot(e){if(typeof ShadowRoot==="undefined"){return false}return e instanceof ShadowRoot||e instanceof getWindow(e).ShadowRoot}function isOverflowElement(e){var t=getComputedStyle(e),n=t.overflow,r=t.overflowX,i=t.overflowY,o=t.display;return/auto|scroll|overlay|hidden|clip/.test(n+i+r)&&!["inline","contents"].includes(o)}function isTableElement(e){return["table","td","th"].includes(getNodeName(e))}function isContainingBlock(e){var t=isWebKit();var n=getComputedStyle(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":false)||!t&&(n.backdropFilter?n.backdropFilter!=="none":false)||!t&&(n.filter?n.filter!=="none":false)||["transform","perspective","filter"].some((function(e){return(n.willChange||"").includes(e)}))||["paint","layout","strict","content"].some((function(e){return(n.contain||"").includes(e)}))}function getContainingBlock(e){var t=getParentNode(e);while(isHTMLElement(t)&&!isLastTraversableNode(t)){if(isContainingBlock(t)){return t}else{t=getParentNode(t)}}return null}function isWebKit(){if(typeof CSS==="undefined"||!CSS.supports)return false;return CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(e){return["html","body","#document"].includes(getNodeName(e))}function getComputedStyle(e){return getWindow(e).getComputedStyle(e)}function getNodeScroll(e){if(isElement(e)){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function getParentNode(e){if(getNodeName(e)==="html"){return e}var t=e.assignedSlot||e.parentNode||isShadowRoot(e)&&e.host||getDocumentElement(e);return isShadowRoot(t)?t.host:t}function getNearestOverflowAncestor(e){var t=getParentNode(e);if(isLastTraversableNode(t)){return e.ownerDocument?e.ownerDocument.body:e.body}if(isHTMLElement(t)&&isOverflowElement(t)){return t}return getNearestOverflowAncestor(t)}function getOverflowAncestors(e,t){var n;if(t===void 0){t=[]}var r=getNearestOverflowAncestor(e);var i=r===((n=e.ownerDocument)==null?void 0:n.body);var o=getWindow(r);if(i){return t.concat(o,o.visualViewport||[],isOverflowElement(r)?r:[],o.frameElement?getOverflowAncestors(o.frameElement):[])}return t.concat(r,getOverflowAncestors(r))}function getCssDimensions(e){var t=getComputedStyle(e);var n=parseFloat(t.width)||0;var r=parseFloat(t.height)||0;var i=isHTMLElement(e);var o=i?e.offsetWidth:n;var a=i?e.offsetHeight:r;var s=round(n)!==o||round(r)!==a;if(s){n=o;r=a}return{width:n,height:r,$:s}}function unwrapElement(e){return!isElement(e)?e.contextElement:e}function getScale(e){var t=unwrapElement(e);if(!isHTMLElement(t)){return createCoords(1)}var n=t.getBoundingClientRect();var r=getCssDimensions(t),i=r.width,o=r.height,a=r.$;var s=(a?round(n.width):n.width)/i;var l=(a?round(n.height):n.height)/o;if(!s||!Number.isFinite(s)){s=1}if(!l||!Number.isFinite(l)){l=1}return{x:s,y:l}}var noOffsets=createCoords(0);function getVisualOffsets(e){var t=getWindow(e);if(!isWebKit()||!t.visualViewport){return noOffsets}return{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function shouldAddVisualOffsets(e,t,n){if(t===void 0){t=false}if(!n||t&&n!==getWindow(e)){return false}return t}function getBoundingClientRect(e,t,n,r){if(t===void 0){t=false}if(n===void 0){n=false}var i=e.getBoundingClientRect();var o=unwrapElement(e);var a=createCoords(1);if(t){if(r){if(isElement(r)){a=getScale(r)}}else{a=getScale(e)}}var s=shouldAddVisualOffsets(o,n,r)?getVisualOffsets(o):createCoords(0);var l=(i.left+s.x)/a.x;var c=(i.top+s.y)/a.y;var f=i.width/a.x;var u=i.height/a.y;if(o){var g=getWindow(o);var d=r&&isElement(r)?getWindow(r):r;var v=g.frameElement;while(v&&r&&d!==g){var m=getScale(v);var p=v.getBoundingClientRect();var h=getComputedStyle(v);var y=p.left+(v.clientLeft+parseFloat(h.paddingLeft))*m.x;var x=p.top+(v.clientTop+parseFloat(h.paddingTop))*m.y;l*=m.x;c*=m.y;f*=m.x;u*=m.y;l+=y;c+=x;v=getWindow(v).frameElement}}return rectToClientRect({width:f,height:u,x:l,y:c})}function convertOffsetParentRelativeRectToViewportRelativeRect(e){var t=e.rect,n=e.offsetParent,r=e.strategy;var i=isHTMLElement(n);var o=getDocumentElement(n);if(n===o){return t}var a={scrollLeft:0,scrollTop:0};var s=createCoords(1);var l=createCoords(0);if(i||!i&&r!=="fixed"){if(getNodeName(n)!=="body"||isOverflowElement(o)){a=getNodeScroll(n)}if(isHTMLElement(n)){var c=getBoundingClientRect(n);s=getScale(n);l.x=c.x+n.clientLeft;l.y=c.y+n.clientTop}}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-a.scrollLeft*s.x+l.x,y:t.y*s.y-a.scrollTop*s.y+l.y}}function getClientRects(e){return Array.from(e.getClientRects())}function getWindowScrollBarX(e){return getBoundingClientRect(getDocumentElement(e)).left+getNodeScroll(e).scrollLeft}function getDocumentRect(e){var t=getDocumentElement(e);var n=getNodeScroll(e);var r=e.ownerDocument.body;var i=max(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth);var o=max(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);var a=-n.scrollLeft+getWindowScrollBarX(e);var s=-n.scrollTop;if(getComputedStyle(r).direction==="rtl"){a+=max(t.clientWidth,r.clientWidth)-i}return{width:i,height:o,x:a,y:s}}function getViewportRect(e,t){var n=getWindow(e);var r=getDocumentElement(e);var i=n.visualViewport;var o=r.clientWidth;var a=r.clientHeight;var s=0;var l=0;if(i){o=i.width;a=i.height;var c=isWebKit();if(!c||c&&t==="fixed"){s=i.offsetLeft;l=i.offsetTop}}return{width:o,height:a,x:s,y:l}}function getInnerBoundingClientRect(e,t){var n=getBoundingClientRect(e,true,t==="fixed");var r=n.top+e.clientTop;var i=n.left+e.clientLeft;var o=isHTMLElement(e)?getScale(e):createCoords(1);var a=e.clientWidth*o.x;var s=e.clientHeight*o.y;var l=i*o.x;var c=r*o.y;return{width:a,height:s,x:l,y:c}}function getClientRectFromClippingAncestor(e,t,n){var r;if(t==="viewport"){r=getViewportRect(e,n)}else if(t==="document"){r=getDocumentRect(getDocumentElement(e))}else if(isElement(t)){r=getInnerBoundingClientRect(t,n)}else{var i=getVisualOffsets(e);r=__assign(__assign({},t),{x:t.x-i.x,y:t.y-i.y})}return rectToClientRect(r)}function hasFixedPositionAncestor(e,t){var n=getParentNode(e);if(n===t||!isElement(n)||isLastTraversableNode(n)){return false}return getComputedStyle(n).position==="fixed"||hasFixedPositionAncestor(n,t)}function getClippingElementAncestors(e,t){var n=t.get(e);if(n){return n}var r=getOverflowAncestors(e).filter((function(e){return isElement(e)&&getNodeName(e)!=="body"}));var i=null;var o=getComputedStyle(e).position==="fixed";var a=o?getParentNode(e):e;while(isElement(a)&&!isLastTraversableNode(a)){var s=getComputedStyle(a);var l=isContainingBlock(a);if(!l&&s.position==="fixed"){i=null}var c=o?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||isOverflowElement(a)&&!l&&hasFixedPositionAncestor(e,a);if(c){r=r.filter((function(e){return e!==a}))}else{i=s}a=getParentNode(a)}t.set(e,r);return r}function getClippingRect(e){var t=e.element,n=e.boundary,r=e.rootBoundary,i=e.strategy;var o=n==="clippingAncestors"?getClippingElementAncestors(t,this._c):[].concat(n);var a=__spreadArray(__spreadArray([],o,true),[r],false);var s=a[0];var l=a.reduce((function(e,n){var r=getClientRectFromClippingAncestor(t,n,i);e.top=max(r.top,e.top);e.right=min(r.right,e.right);e.bottom=min(r.bottom,e.bottom);e.left=max(r.left,e.left);return e}),getClientRectFromClippingAncestor(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function getDimensions(e){return getCssDimensions(e)}function getRectRelativeToOffsetParent(e,t,n){var r=isHTMLElement(t);var i=getDocumentElement(t);var o=n==="fixed";var a=getBoundingClientRect(e,true,o,t);var s={scrollLeft:0,scrollTop:0};var l=createCoords(0);if(r||!r&&!o){if(getNodeName(t)!=="body"||isOverflowElement(i)){s=getNodeScroll(t)}if(r){var c=getBoundingClientRect(t,true,o,t);l.x=c.x+t.clientLeft;l.y=c.y+t.clientTop}else if(i){l.x=getWindowScrollBarX(i)}}return{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function getTrueOffsetParent(e,t){if(!isHTMLElement(e)||getComputedStyle(e).position==="fixed"){return null}if(t){return t(e)}return e.offsetParent}function getOffsetParent(e,t){var n=getWindow(e);if(!isHTMLElement(e)){return n}var r=getTrueOffsetParent(e,t);while(r&&isTableElement(r)&&getComputedStyle(r).position==="static"){r=getTrueOffsetParent(r,t)}if(r&&(getNodeName(r)==="html"||getNodeName(r)==="body"&&getComputedStyle(r).position==="static"&&!isContainingBlock(r))){return n}return r||getContainingBlock(e)||n}var getElementRects=function(e){return __awaiter(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,l;var c;return __generator(this,(function(f){switch(f.label){case 0:t=e.reference,n=e.floating,r=e.strategy;i=this.getOffsetParent||getOffsetParent;o=this.getDimensions;c={};a=getRectRelativeToOffsetParent;s=[t];return[4,i(n)];case 1:c.reference=a.apply(void 0,s.concat([f.sent(),r]));l=[{x:0,y:0}];return[4,o(n)];case 2:return[2,(c.floating=__assign.apply(void 0,l.concat([f.sent()])),c)]}}))}))};function isRTL(e){return getComputedStyle(e).direction==="rtl"}var platform={convertOffsetParentRelativeRectToViewportRelativeRect:convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement:getDocumentElement,getClippingRect:getClippingRect,getOffsetParent:getOffsetParent,getElementRects:getElementRects,getClientRects:getClientRects,getDimensions:getDimensions,getScale:getScale,isElement:isElement,isRTL:isRTL};function observeMove(e,t){var n=null;var r;var i=getDocumentElement(e);function o(){clearTimeout(r);n&&n.disconnect();n=null}function a(s,l){if(s===void 0){s=false}if(l===void 0){l=1}o();var c=e.getBoundingClientRect(),f=c.left,u=c.top,g=c.width,d=c.height;if(!s){t()}if(!g||!d){return}var v=floor(u);var m=floor(i.clientWidth-(f+g));var p=floor(i.clientHeight-(u+d));var h=floor(f);var y=-v+"px "+-m+"px "+-p+"px "+-h+"px";var x={rootMargin:y,threshold:max(0,min(1,l))||1};var w=true;function b(e){var t=e[0].intersectionRatio;if(t!==l){if(!w){return a()}if(!t){r=setTimeout((function(){a(false,1e-7)}),100)}else{a(false,t)}}w=false}try{n=new IntersectionObserver(b,__assign(__assign({},x),{root:i.ownerDocument}))}catch(e){n=new IntersectionObserver(b,x)}n.observe(e)}a(true);return o}function autoUpdate(e,t,n,r){if(r===void 0){r={}}var i=r.ancestorScroll,o=i===void 0?true:i,a=r.ancestorResize,s=a===void 0?true:a,l=r.elementResize,c=l===void 0?typeof ResizeObserver==="function":l,f=r.layoutShift,u=f===void 0?typeof IntersectionObserver==="function":f,g=r.animationFrame,d=g===void 0?false:g;var v=unwrapElement(e);var m=o||s?__spreadArray(__spreadArray([],v?getOverflowAncestors(v):[],true),getOverflowAncestors(t),true):[];m.forEach((function(e){o&&e.addEventListener("scroll",n,{passive:true});s&&e.addEventListener("resize",n)}));var p=v&&u?observeMove(v,n):null;var h=-1;var y=null;if(c){y=new ResizeObserver((function(e){var r=e[0];if(r&&r.target===v&&y){y.unobserve(t);cancelAnimationFrame(h);h=requestAnimationFrame((function(){y&&y.observe(t)}))}n()}));if(v&&!d){y.observe(v)}y.observe(t)}var x;var w=d?getBoundingClientRect(e):null;if(d){b()}function b(){var t=getBoundingClientRect(e);if(w&&(t.x!==w.x||t.y!==w.y||t.width!==w.width||t.height!==w.height)){n()}w=t;x=requestAnimationFrame(b)}n();return function(){m.forEach((function(e){o&&e.removeEventListener("scroll",n);s&&e.removeEventListener("resize",n)}));p&&p();y&&y.disconnect();y=null;if(d){cancelAnimationFrame(x)}}}var computePosition=function(e,t,n){var r=new Map;var i=__assign({platform:platform},n);var o=__assign(__assign({},i.platform),{_c:r});return computePosition$1(e,t,__assign(__assign({},i),{platform:o}))};export{autoUpdate as a,arrow as b,computePosition as c,flip as f,offset as o,shift as s};