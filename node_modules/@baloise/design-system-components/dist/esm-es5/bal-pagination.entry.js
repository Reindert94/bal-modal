import{__awaiter,__generator}from"tslib";import{r as registerInstance,c as createEvent,h,H as Host,g as getElement}from"./index-853c3f3f.js";import{B as BEM}from"./bem-1b28532d.js";import{b as balBreakpoints}from"./breakpoints.subject-89817b34.js";import{L as ListenToBreakpoints}from"./breakpoints.decorator-372e9eb8.js";import{d as defaultConfig}from"./initialize-ac68e3e3.js";import{L as ListenToConfig}from"./config.decorator-54721e29.js";import"./helpers-697ce790.js";import"./browser-9199b5e2.js";import"./icons.constant-0d61e703.js";import"./device-c28cde6d.js";import"./listener-ea90dc02.js";import"./tokens.esm-5012a108.js";import"./log-01623e2c.js";import"./index-8b8ed6bd.js";function generatePaginationControl(a,t,e){var i=[];if(a>t||a<0){a=1}if(t<=0){t=10}if(e<=0){e=2}var n=5+e*2;if(t<=n){for(var s=1;s<=t;s++){i.push({type:"page",label:s.toString(),active:s===a})}}else{if(a<=n-2-e){for(var s=1;s<=n-2;s++){i.push({type:"page",label:s.toString(),active:s===a})}i.push({type:"dots",label:"...",active:false});i.push({type:"page",label:t.toString(),active:false})}else if(a>=t-3){i.push({type:"page",label:"1",active:false});i.push({type:"dots",label:"...",active:false});for(var s=t-n+3;s<=t;s++){i.push({type:"page",label:s.toString(),active:s===a})}}else{i.push({type:"page",label:"1",active:false});i.push({type:"dots",label:"...",active:false});var o=Number(a);for(var s=o-e;s<=o+e;s++){i.push({type:"page",label:s.toString(),active:s===a})}i.push({type:"dots",label:"...",active:false});i.push({type:"page",label:t.toString(),active:false})}}return i}var i18nControlLabel={de:{left:"Vorherige Seite",right:"Nächste Seite"},en:{left:"Previous Page",right:"Next Page"},fr:{left:"Page précédente",right:"Page suivante"},it:{left:"Pagina precedente",right:"Pagina successiva"},nl:{left:"Vorige pagina",right:"Volgende pagina"},es:{left:"Página anterior",right:"Página siguiente"},pl:{left:"Poprzednia strona",right:"Następna strona"},pt:{left:"Página anterior",right:"Próxima página"},sv:{left:"Föregående sida",right:"Nästa sida"},fi:{left:"Edellinen sivu",right:"Seuraava sivu"}};var balPaginationCss=":root{--bal-pagination-small-background:var(--bal-color-grey);--bal-pagination-small-radius:var(--bal-radius-normal);--bal-pagination-tabs-background:var(--bal-color-white);--bal-pagination-tabs-shadow:var(--bal-shadow-normal);--bal-pagination-tabs-radius:var(--bal-radius-large);--bal-pagination-dot-radius:var(--bal-radius-rounded);--bal-pagination-dot-background-active:var(--bal-color-primary);--bal-pagination-dot-background-inactive:var(--bal-color-white)}.bal-pagination{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:block}.bal-pagination--is-sticky{position:-webkit-sticky;position:sticky;z-index:var(--bal-z-index-sticky)}.bal-pagination__nav{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;text-align:center}.bal-pagination__nav--align-start{-ms-flex-pack:start;justify-content:flex-start}.bal-pagination__nav--align-end{-ms-flex-pack:end;justify-content:flex-end}.bal-pagination__nav--context-small{padding-top:1rem}.bal-pagination__nav__pagination-previous{-ms-flex-order:1;order:1}.bal-pagination__nav__pagination-previous--context-small[disabled] button:hover{background-color:rgba(0,0,0,0);border-color:rgba(0,0,0,0)}.bal-pagination__nav__pagination-next{-ms-flex-order:3;order:3}.bal-pagination__nav__pagination-next--context-small[disabled] button:hover{background-color:rgba(0,0,0,0);border-color:rgba(0,0,0,0)}.bal-pagination__nav__pagination-list{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;gap:4px;padding-left:8px;padding-right:8px;-ms-flex-order:2;order:2;width:unset;text-align:center}@media screen and (min-width: 769px),print{.bal-pagination__nav__pagination-list{gap:8px}}@media screen and (min-width: 1024px){.bal-pagination__nav__pagination-list{gap:8px}}.bal-pagination__nav__pagination-list--context-small{gap:8px;max-width:88px;min-width:63px;min-height:1.25rem;margin:0 20px 0 !important;background:var(--bal-pagination-small-background);border-radius:var(--bal-pagination-small-radius)}.bal-pagination__nav__pagination-list--context-tabs{-ms-flex-positive:1;flex-grow:1;padding:8px;background:var(--bal-pagination-tabs-background);-webkit-box-shadow:var(--bal-pagination-tabs-shadow);box-shadow:var(--bal-pagination-tabs-shadow);border-radius:var(--bal-pagination-tabs-radius)}.bal-pagination__nav__pagination-list__dot{cursor:pointer;height:8px;width:8px;gap:30px;border-radius:var(--bal-pagination-dot-radius);display:block}.bal-pagination__nav__pagination-list__dot--active{background-color:var(--bal-pagination-dot-background-active)}.bal-pagination__nav__pagination-list__dot--inactive{background-color:var(--bal-pagination-dot-background-inactive)}.bal-pagination__nav__pagination-list--more{width:2rem}@media screen and (min-width: 769px),print{.bal-pagination__nav__pagination-list--more{width:2rem}}@media screen and (min-width: 1024px){.bal-pagination__nav__pagination-list--more{width:3rem}}.bal-pagination__nav__pagination-list__tab{-ms-flex:1;flex:1}.bal-pagination__nav__pagination-list.is-disabled li{pointer-events:none}";var __decorate=undefined&&undefined.__decorate||function(a,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")s=Reflect.decorate(a,t,e,i);else for(var r=a.length-1;r>=0;r--)if(o=a[r])s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s;return n>3&&s&&Object.defineProperty(t,e,s),s};var Pagination=function(){function a(a){registerInstance(this,a);this.balChangeEventEmitter=createEvent(this,"balChange",7);this._value=1;this.isMobile=balBreakpoints.isMobile;this.language=defaultConfig.language;this.align="";this.size="";this.interface="";this.disabled=false;this.value=1;this.totalPages=1;this.pageRange=2;this.sticky=false;this.top=0}a.prototype.valueChanged=function(a){this._value=a};a.prototype.topValueChanged=function(a){if(this.sticky){this.el.style.top="".concat(a,"px")}};a.prototype.componentWillLoad=function(){this._value=this.value;this.topValueChanged(this.top)};a.prototype.breakpointListener=function(a){this.isMobile=a.mobile};a.prototype.next=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(a){if(this._value<this.totalPages){this._value=this._value+1;this.balChangeEventEmitter.emit(this._value)}return[2]}))}))};a.prototype.previous=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(a){if(this._value!==1){this._value=this._value-1;this.balChangeEventEmitter.emit(this._value)}return[2]}))}))};a.prototype.configChanged=function(a){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.language=a.language;return[2]}))}))};a.prototype.selectPage=function(a){this._value=a;this.balChangeEventEmitter.emit(this._value)};a.prototype.getItems=function(a){var t=this;if(a===void 0){a=2}var e=generatePaginationControl(this._value,this.totalPages,a);return e.map((function(a){if(a.type==="page"){return t.renderPageElement(Number(a.label))}else{return t.renderEllipsisElement()}}))};a.prototype.renderEllipsisElement=function(){var a=BEM.block("pagination").element("nav").element("pagination-list").modifier("more");return h("li",null,h("div",{class:Object.assign({},a.class())},h("bal-text",{bold:true,heading:true,inline:true,space:"none"},"…")))};a.prototype.renderPageElement=function(a){var t=this;var e=this._value===a;var i=BEM.block("pagination").element("nav").element("pagination-list").element("dot");if(this.interface==="small"){return h("li",null,h("span",{class:Object.assign(Object.assign(Object.assign({},i.class()),i.modifier("active").class(e)),i.modifier("inactive").class(!e)),onClick:function(){return t.selectPage(a)}}))}return h("li",null,h("bal-button",{square:true,color:e?"primary":"text",onClick:function(){return t.selectPage(a)},"data-testid":"bal-pagination-page-number",size:this.isMobile||this.size==="small"?"small":""},a))};a.prototype.render=function(){var a=this;var t=this.getItems(1);var e=this.getItems(this.pageRange);var i=BEM.block("pagination");var n=i.element("nav");var s=n.element("pagination-previous");var o=n.element("pagination-next");var r=n.element("pagination-list");var l=this.interface==="small";var c=l?"link":"text";var g=l||this.size==="small"||this.isMobile?"small":"";var p=l;var b=i18nControlLabel[this.language].left;var d=i18nControlLabel[this.language].right;var u=this.interface===""||l&&this.totalPages<=5;var f=function(){return h("bal-text",{space:"none",class:Object.assign(Object.assign({},r.class()),r.modifier("context-".concat(a.interface)).class()),color:"blue"},h("span",{class:"has-text-weight-bold"},a._value)," / "+a.totalPages)};var v=function(){return h("ul",{class:Object.assign(Object.assign(Object.assign({},r.class()),r.modifier("context-".concat(a.interface)).class()),{"is-disabled":a.disabled}),"data-testid":"bal-pagination-list"},e)};var m=function(){return h("ul",{class:Object.assign(Object.assign(Object.assign({},r.class()),r.modifier("context-".concat(a.interface)).class()),{"is-disabled":a.disabled}),"data-testid":"bal-pagination-list"},t)};return h(Host,{class:Object.assign(Object.assign({},i.class()),i.modifier("is-sticky").class(this.sticky))},h("nav",{class:Object.assign(Object.assign(Object.assign({},n.class()),n.modifier("context-".concat(this.interface)).class(this.interface!=="")),n.modifier("align-".concat(this.align)).class(this.align!=="")),role:"navigation","aria-label":"pagination"},h("bal-button",{square:true,color:c,size:g,flat:p,class:Object.assign(Object.assign({},s.class()),s.modifier("context-".concat(this.interface)).class()),disabled:this._value<2||this.disabled,onClick:function(){return a.previous()},"data-testid":"bal-pagination-controls-left",title:b},h("bal-icon",{name:"nav-go-left",size:"small"})),h("bal-button",{square:true,color:c,size:g,flat:p,class:Object.assign(Object.assign({},o.class()),o.modifier("context-".concat(this.interface)).class()),disabled:this._value===this.totalPages||this.disabled,onClick:function(){return a.next()},"data-testid":"bal-pagination-controls-right",title:d},h("bal-icon",{name:"nav-go-right",size:"small"})),u&&this.isMobile?h(m,null):"",u&&!this.isMobile?h(v,null):"",!u?h(f,null):""))};Object.defineProperty(a.prototype,"el",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(a,"watchers",{get:function(){return{value:["valueChanged"],top:["topValueChanged"]}},enumerable:false,configurable:true});return a}();__decorate([ListenToBreakpoints()],Pagination.prototype,"breakpointListener",null);__decorate([ListenToConfig()],Pagination.prototype,"configChanged",null);Pagination.style={css:balPaginationCss};export{Pagination as bal_pagination};