import{__awaiter,__extends,__generator}from"tslib";import{b as balDevice}from"./device-c28cde6d.js";import{L as ListenerAbstract,a as SingleSubject}from"./listener-ea90dc02.js";import{r as rIC}from"./helpers-697ce790.js";var BalSwipeListener=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.connect=function(e){return __awaiter(this,void 0,void 0,(function(){var i=this;return __generator(this,(function(n){switch(n.label){case 0:t.prototype.connect.call(this,e);return[4,this.loadLib()];case 1:n.sent();if(this.PointerListenerLib){this.pointerListener=new this.PointerListenerLib(e,{DEBUG:true});this.pointerListener.on("swipeleft",(function(){return i.notify({left:true,right:false})}));this.pointerListener.on("swiperight",(function(){return i.notify({left:false,right:true})}))}return[2]}}))}))};e.prototype.disconnect=function(){var e;t.prototype.disconnect.call(this);(e=this.pointerListener)===null||e===void 0?void 0:e.destroy()};e.prototype.loadLib=function(){return __awaiter(this,void 0,void 0,(function(){var t=this;return __generator(this,(function(e){return[2,new Promise((function(e,i){rIC((function(){return __awaiter(t,void 0,void 0,(function(){var t=this;return __generator(this,(function(n){import("./contact-2eb8fbc6.js").then((function(i){t.PointerListenerLib=i.PointerListener;e()})).catch(i);return[2]}))}))}))}))]}))}))};return e}(ListenerAbstract);var BalSwipeSubject=function(t){__extends(e,t);function e(e){if(e===void 0){e={mobileOnly:false}}var i=t.call(this,(function(t,e){if(e){t.swipeListener(e)}}))||this;i.options=e;i.listener=new BalSwipeListener;return i}e.prototype.attach=function(e){var i=this;if(this.options.mobileOnly===true&&balDevice.isMobile||this.options.mobileOnly!==true){t.prototype.attach.call(this,e);this.listener.connect(e.el);this.listener.add((function(e){return t.prototype.notify.call(i,e)}))}};e.prototype.detach=function(){t.prototype.detach.call(this);this.listener.disconnect()};return e}(SingleSubject);export{BalSwipeSubject as B};